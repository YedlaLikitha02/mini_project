{% extends "base.html" %}

{% block title %}Leaderboard - Indian States Quiz{% endblock %}

{% block content %}
<div class="leaderboard-container">
    <h2>Leaderboard</h2>
    
    <div class="leaderboard-description">
        <p>Top performers in the Indian States Quiz. Can you make it to the top?</p>
    </div>
    
    <table class="leaderboard-table">
        <thead>
            <tr>
                <th>Rank</th>
                <th>Name</th>
                <th>Score</th>
                <th>Questions</th>
                <th>Percentage</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            {% for score in top_scores %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ score.user_name }}</td>
                <td>{{ score.score }}</td>
                <td>{{ score.total_questions }}</td>
                <td>{{ (score.score / score.total_questions * 100) | round(1) }}%</td>
                <td>{{ score._id.generation_time.strftime('%Y-%m-%d') }}</td>
            </tr>
            {% endfor %}
            
            {% if not top_scores %}
            <tr>
                <td colspan="6" class="no-results">No quiz attempts yet. Be the first to take the quiz!</td>
            </tr>
            {% endif %}
        </tbody>
    </table>
    
    <div class="action-buttons">
        <a href="{{ url_for('index') }}" class="button primary-button">Take Quiz</a>
    </div>
</div>
{% endblock %}